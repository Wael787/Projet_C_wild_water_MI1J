PROJET DISTRIBUTION D'EAU

Objectif du projet :
  
  Ce projet a pour but d'analyser des données provenant d'un système de distribution d'eau en France à partir d'un fichier CSV représentant environ 1/3 du réseau français.
  Il a pour but de filtrer et traiter les données au moyen d’un script shell, d’un programme écrit en langage C et d'un Gnuplot pour la visualisation graphique.
  Ce projet a également pour but de :
    1.Générer les histogrammes des performances des usines de traitement (capacité maximale, volumes captés, volumes traités)
    2.Calculer les fuites d'eau dans le réseau aval d'une usine spécifique

Les données suivent le parcours : 
Sources → Usines de traitement → Stockages → Jonctions → Raccordements → Usagers

Comment executer notre programme ?
  PRÉPARATION :
    cd /chemin/vers/c-wildwater 
    chmod +x MyScript.sh (Mettre les autorisations)         

  COMPILATION :
    make all          # Compile tout (ou compilation automatique au lancement)
    make clean        # Nettoie les binaires

  HISTOGRAMMES (volume pour les histo = en k.m^3.an^-1 car plus judicieux, 
  le volume etait arrondi à 1 d'unité en M.m^3.an^-1 ,  ce qui n'était pas pertinent pour l'analyse des données)

  On a réalisé les histogrammes de deux manières différentes, une en Shell et une en C, afin de comparer leurs performances d’exécution.
  Les 2 fonctionnent ( sauf petite limitation pour la génération de l'histogramme "histo max" avec le Shell mais non prise en compte )

    ./MyScript.sh c-wildwater_v3.dat histo max     # Capacité maximale (Shell/AWK)
    ./MyScript.sh c-wildwater_v3.dat histo src     # Volume capté (Shell/AWK)
    ./MyScript.sh c-wildwater_v3.dat histo reel    # Volume traité (Shell/AWK)
    
    ./MyScript.sh c-wildwater_v3.dat histo maxC    # Capacité maximale (C/AVL)
    ./MyScript.sh c-wildwater_v3.dat histo srcC    # Volume capté (C/AVL)
    ./MyScript.sh c-wildwater_v3.dat histo reelC   # Volume traité (C/AVL)

  L'utilisation de la version "histo ...C" est donc priviligié pour l'execution final , car elle est plus efficace sur des fichiers de grande taille.
  De plus cette approche permet de respecter les exigences du projet (tout en mettant en évidence les différences de performances entre les deux solution).
  
  CALCUL DES FUITES (unité : M.m^3.an^-1) : on a choisi de partir du volume max traité par l'usine et non du volume réellement traité (en prenant en compte les fuites de la source à l'usine)
    ./MyScript.sh c-wildwater_v3.dat leaks
    
    Tester une usine précise :
    ./wildwater c-wildwater_v3.dat leaks "ID_USINE"

Structure du projet :
c-wildwater/
├── MyScript.sh          # Script shell principal
├── makefile             # Compilation automatique
├── src/
│   ├── histo.c         # Programme histogrammes
│   ├── histo.h
│   ├── leaks.c         # Programme calcul des fuites
│   └── leaks.h
├── dat/
│   └── c-wildwater_v3.dat  # Données d'entrée
├── csv/                # Fichiers de sortie générés
└── bin/                # Exécutables compilés

Note importante sur l'emplacement des fichiers

Si vous exécutez ce projet sur un environnement virtuel (VM), un conteneur Docker ou un serveur distant et que vous souhaitez consulter les résultats (images ou tableaux) sur votre machine hôte (votre PC personnel), les fichiers ne seront pas directement accessibles via votre explorateur de fichiers habituel.

Dans ce cas, vous devez effectuer une copie (cp) des fichiers vers votre dossier partagé ou local.

Exemple de commande pour récupérer les images : Si vous avez un dossier partagé monté sur /mnt/c/Users/Moi/Desktop (cas fréquent sous WSL) ou un dossier partage :

- Copier tous les graphiques vers votre dossier personnel
cp png/*.png /chemin/vers/votre/dossier/personnel/

-Copier tous les rapports CSV
cp csv/*.csv /chemin/vers/votre/dossier/personnel/

Si vous êtes sur une machine locale standard (Linux natif), les fichiers sont simplement dans les dossiers csv et png du répertoire courant.


Nettoyage

Pour supprimer les exécutables et nettoyer le projet (ne supprime pas les résultats csv/png) :
make clean
